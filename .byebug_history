c
METHODS.key(payment_method_id).class
METHODS.key(payment_method_id)
payment_method_id
c
METHODS.keys.include?(raw_payment_method.to_sym)
c
raw_payment_method.to_sym
c
 payments.create!(amount: (amount_paid * 100).to_i, raw_payment_method: payment_method)
payment_method
c
payments.sum(:amount)
invoice_total
c
invoice.fully_paid?
invoice.payments
invoice.payment
invoice
c
METHODS[raw_payment_method.to_sym]
METHODS.keys.include?(raw_payment_method.to_sym)
raw_payment_method.to_sym
c
payment_method
cpayment_method
c
payments.create(amount: amount_in_cents(amount_paid), payment_method: payment_method)
